import{R as a,j as e,S as m,B as i,I as c,T as C,a as S,b as r,y as N,z as x,L as w,ao as k,ap as I}from"./index-da52fd1c.js";import{S as v,I as A,i as T}from"./incidents-f6ac17c4.js";import{i as R,s as z}from"./incident-f8136e76.js";import{r as M}from"./requireAdmin-caffb0bf.js";import{f as h}from"./filterOptions-474d0660.js";import{C as u,a as O}from"./custom-table-6f465b8d.js";import{C as B}from"./custom-pagination-ee4e1e42.js";import{P as F}from"./page-size-b55592de.js";import{E as P,T as E,I as D}from"./icons-cc9e56a1.js";import{C as d}from"./confirm-modal-8668020a.js";import{I as j}from"./index-81aa98f2.js";import{F as L}from"./index-ce2967e2.js";import"./index-2514ac60.js";import"./TextArea-6c8b8c26.js";import"./ExclamationCircleFilled-2f7e95ac.js";const q=()=>{const[s,p]=a.useState(1),[f,n]=a.useState(!1),[y,o]=a.useState(!1),[b,l]=a.useState(!1),g=a.useMemo(()=>[{title:"Incident name",dataIndex:"name",key:"name",render:t=>e.jsx("a",{className:"text-black",children:t}),sorter:!0},{title:"Incident type",dataIndex:"type",key:"type",render:t=>e.jsx("span",{className:"text-primary",children:t}),sorter:!0},{title:e.jsx(u,{className:"text-center",children:"Severity level"}),dataIndex:"level",key:"level",render:t=>e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{level:t})})},{title:"Created by",dataIndex:"createBy",key:"createBy",render:t=>e.jsx(e.Fragment,{children:t}),sorter:!0},{title:"Created date",dataIndex:"date",key:"date",render:t=>e.jsx(e.Fragment,{children:t}),sorter:!0},{title:e.jsx(u,{className:"text-center",children:"Status"}),dataIndex:"status",key:"status",render:t=>e.jsx("div",{className:"flex justify-center",children:t==="PENDING"?e.jsxs(m,{children:[e.jsx(G,{onClick:()=>o(!0)}),e.jsx(H,{onClick:()=>l(!0)})]}):e.jsx(A,{status:t})})},{title:"Actions",key:"actions",render:()=>e.jsxs(m,{children:[e.jsx(i,{icon:e.jsx(c,{component:P}),shape:"circle",className:"border-0 shadow-none"}),e.jsx(i,{onClick:()=>n(!0),icon:e.jsx(c,{component:E}),shape:"circle",className:"border-0 shadow-none"})]})}],[]);return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"mb-4",children:e.jsxs(C,{children:[e.jsx(c,{className:"mr-3",component:D}),"Incident Management"]})}),e.jsxs(S,{gutter:[16,16],align:"bottom",className:"mb-5",children:[e.jsx(r,{xs:24,lg:7,children:e.jsx(j,{size:"large",className:"w-full",placeholder:"Search by incident name",prefix:e.jsx(N,{})})}),e.jsxs(r,{xs:12,lg:5,children:[e.jsx("label",{className:"mb-1 block font-semibold",children:"Incident type:"}),e.jsx(x,{size:"large",className:"w-full",showSearch:!0,allowClear:!0,placeholder:"-Select-",optionFilterProp:"children",filterOption:h,options:R})]}),e.jsxs(r,{xs:12,lg:5,children:[e.jsx("label",{className:"mb-1 block font-semibold",children:"Severity level:"}),e.jsx(x,{size:"large",className:"w-full",showSearch:!0,allowClear:!0,placeholder:"-Select-",optionFilterProp:"children",filterOption:h,options:z})]}),e.jsx(r,{xs:24,lg:7,className:"flex justify-end",children:e.jsx(w,{to:"/admin/incidents/create",children:e.jsx(i,{type:"primary",size:"large",children:"+ Submit Incident Case"})})})]}),e.jsx(O,{className:"mb-6",dataSource:T,columns:g}),e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx(F,{total:30,current:s,pageSize:10}),e.jsx(B,{total:30,current:s,pageSize:10,onChange:p})]}),e.jsx(d,{open:f,headline:"Delete this incident case",message:"Are you sure you want to delete this incident case?",confirmText:"Delete",onCancel:()=>n(!1),onOk:()=>n(!1)}),e.jsx(d,{open:y,headline:"Accept this incident",message:"Are you sure you want to accept this incident?",confirmText:"Confirm",onCancel:()=>o(!1),onOk:()=>o(!1)}),e.jsx(d,{open:b,headline:"Reject incident",message:"Are you sure you want to reject this incident?",content:e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"mb-1.5 block font-semibold after:ml-1 after:text-red-500 after:content-['*']",children:"Remark"}),e.jsx(L.Item,{name:"remark",rules:[{required:!0,message:"กรุณาระบุ Remark"}],children:e.jsx(j,{placeholder:"Add comment",size:"large"})})]}),confirmText:"Confirm",onCancel:()=>l(!1),onOk:()=>l(!1)})]})},re=M(q),G=s=>e.jsxs("button",{className:"cursor-pointer border-none bg-[#1ABC5B] font-normal text-white hover:shadow hover:brightness-110",...s,children:[e.jsx(k,{className:"mr-1"}),"ACCEPT"]}),H=s=>e.jsxs("button",{className:"cursor-pointer border-none bg-[#C00001] font-normal text-white hover:shadow hover:brightness-110",...s,children:[e.jsx(I,{className:"mr-1"}),"REJECT"]});export{re as default};
